# Serve TrBlockerAd dashboard at root, keep only Pi-hole API
server.document-root = "/var/www/html/custom"
index-file.names = ( "index.html" )

# Keep Pi-hole API working
$HTTP["url"] =~ "^/admin/api\.php" {
    server.document-root = "/var/www/html"
}

$HTTP["url"] =~ "^/admin/scripts/" {
    server.document-root = "/var/www/html"
}

# SPA fallback - serve index.html for all non-file routes
server.error-handler-404 = "/index.html"
